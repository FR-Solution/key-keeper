---
issuers:
  - name: kube-apiserver-server
    vault:
      role:
        name: "kube-apiserver"
        path: "clusters/cluster-1/pki/kubernetes"
      server: "http://51.250.67.8:9200"
      auth:
        caBundle: ""
        tlsInsecure: true
        bootstrap:
          token: hvs.RzuJmHubW1V8vj7jFAbZtKLJ
        appRole:
          name: "test-role"
          path: "clusters/cluster-1/approle"
          roleIDLocalPath: /tmp/keep/roleIDLocalPath
          secretIDLocalPath: /tmp/keep/secretIDLocalPath
      kv:
        path: "path"
      timeout: 15s

secrets:
  - name: sa-key
    issuerRef:
      name: kube-apiserver-server
    key: private
    hostPath: /tmp/keep/certs/
# certificates:
#   - name: kube-apiserver-server
#     issuerRef:
#       name: kube-apiserver-server
#     vault:
#       role: "kube-apiserver"
#       path: "clusters/cluster-1/pki/kubernetes"
#     spec:
#       subject:
#         commonName: custom:kube-apiserver-server
#       privateKey:
#         algorithm: RSA
#         encoding: PKCS1
#         size: 4096
#       usages:
#         - server auth
#       hostnames:
#         - "localhost"
#         - "kubernetes"
#         - "kubernetes.default"
#         - "kubernetes.default.svc"
#         - "kubernetes.default.svc.cluster"
#         - "kubernetes.default.svc.cluster.local"
#         - "api.cluster-1.dobry-kot.ru"
#       ipAddresses:
#         static:
#           - 127.0.0.1
#           - 10.10.10.0
#         interfaces:
#           - lo
#         dnsLookup:
#           - yandex.ru

#       ttl: 100h
#     hostPath: "/tmp/keep/certs/"
# keys:
#   - name: kube-sa
#     host_path: /tmp/keep/certs/kube-sa
#     privateKey:
#       algorithm: RSA
#       encoding: PKCS1
#       size: 2048
#     public: true
#     vault:
#       kv: "clusters/cluster-1/kv"

